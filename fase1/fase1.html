<!DOCTYPE html>
<html lang="pt_br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aventuras Incríveis</title>
    <link rel="stylesheet" href="fase1.css">

</head>
<body>

    <audio id="Musica" controls autoplay>
        <source src="../musicaRPF.mp3" type="audio/mpeg">
        Seu navegador não suporta o elemento de áudio.
    </audio>
    <audio id="morteAudio" src="../morteProtagonista.mp3" type="audio/mpeg"  volume="0.5"></audio>
    <audio id="morteAudioMonstro" src="../morteMonstro.mp3" type="audio/mpeg"  volume="0.5"></audio>
<div id="background-image"></div>
<div id="botao-cura">
    <button id="botao-curar">!!CURAR!!</button>
</div>
<div id="top-bar" style="font-size: 50px;">
    <span id="life">Vida: 100</span>
</div>
<table id="gametable" width="800" height="700px" border="0" cellpadding="0" cellspacing="0" align="center"></table>

<div id="main-menu">
    <div>
        <h1>Aventuras Incríveis</h1>
        <button class="menu-button" id="play-button">Jogar</button>
        <button class="menu-button" id="about-button">Sobre</button>
        <button class="menu-button" id="exit-button">Sair</button>
    </div>
</div>

<div id="about-container">
    <h2>Sobre o Jogo</h2>
    <p>Bem-vindo às Aventuras Incríveis! Explore o desconhecido, lute contra monstros e colete itens valiosos.</p>
    <p>Italo de Andrade</p>
    <p>Otavio Murilo</p>
    <p>Theo Machado</p>
    <button class="menu-button close-button" id="close-about-button">Fechar</button>
</div>

<div id="inventario">
    <h2>Inventário</h2>
    <ul id="items"></ul>
</div>

<div id="monster-count" style="font-size: 24px;">
    Monstros Derrotados: <span id="monstros-derrotados">0</span>
    
</div>
<div id="explicacao">
    <p>Derrote 3 monstros para lutar contra o Chefão!</p>
</div>

<div id="combate-box">
    <p>Modo de Combate</p>
    <p id="resultado-dado">Resultado do Dado: 0</p>
    <button id="botao-girar-dado" disabled>Girar Dado</button>
</div>

<div id="alert-container">
    <p>Relatório de Combate</p>
    <button id="botaoLimpar">Limpar Div</button>
    <p id="result-alert"></p>
</div>

<div id="story-container">
    <div id="story-box">
        <p id="story-paragraph">Voce acorda sozinho em um lugar desconhecido.</p>
        <button id="next-button">Próximo</button>
    </div>
</div>
<script src="aventuras.js">
</script>

<script>

window.addEventListener('load', function() {
            var audio = document.getElementById('Musica');
            audio.volume = 0.03;
            var playPromise = audio.play();

            if (playPromise !== undefined) {
                playPromise.then(function() {
                    console.log('Reprodução automática bem-sucedida.');
                }).catch(function(error) {
                    console.log('Reprodução automática foi bloqueada:', error);
                    document.body.addEventListener('click', function() {
                        audio.play();
                    }, { once: true });
                });
            }
        });

    let playerX = 8;
    let playerY = 11;
    addItemToMap("Poção", "../imgs/abacate.png", 8, 7);
    addItemToMap("Poção", "../imgs/abacate.png", 16, 15);
    addItemToMap("Poção", "../imgs/abacate.png", 14, 8);
    addItemToMap("Poção", "../imgs/abacate.png", 7, 13);
    addItemToMap("Poção", "../imgs/abacate.png", 8, 5);
    addItemToMap("Espada", "../imgs/SPADA.png", 6, 3);
    addItemToMap("Mapa", "../imgs/mapa.png", 10, 15);

    addMonstroToMap(2, 16, { name: "alien", imageSrc: "../imgs/boss.png", dano: 8, vida: 900 });
    addMonstroToMap(2, 8, { name: "Monstro do Lago", imageSrc: "../imgs/agua.png", dano: 70, vida: 850 });
    addMonstroToMap(4, 10, { name: "arvore", imageSrc: "../imgs/dinosario.png", dano: 5, vida: 700 });
    addMonstroToMap(8, 17, { name: "arvore", imageSrc: "../imgs/dinosario.png", dano: 5, vida: 700 });
    addMonstroToMap(17, 19, { name: "caveira", imageSrc: "../imgs/cavera.png", dano: 5, vida: 1000 });


    document.getElementById("play-button").addEventListener("click", function() {
        document.getElementById("main-menu").style.display = "none";
    });
    
    document.getElementById("about-button").addEventListener("click", function() {
        document.getElementById("about-container").style.display = "block";
    });
    
    document.getElementById("close-about-button").addEventListener("click", function() {
        document.getElementById("about-container").style.display = "none";
    });
    
    document.getElementById("exit-button").addEventListener("click", function() {
        window.location.href = "https://www.google.com";
    });

</script>
</body>
</html>
